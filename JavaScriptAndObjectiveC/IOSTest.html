

<!doctype html>
<html>
<head>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <style type='text/css'>
        html {
            font-family: Helvetica;
            color: #222;
        }

        h1 {
            color: steelblue;
            font-size: 24px;
            margin-top: 24px;
        }

        button {
            margin: 0 3px 10px;
            font-size: 12px;
        }

        .logLine {
            border-bottom: 1px solid #ccc;
            padding: 4px 2px;
            font-family: courier;
            font-size: 11px;
        }
    </style>
</head>


<body>
  <h1>IOS#JS TEST</h1>
   
    <div id='buttons'></div> <div id='log'></div>
    <div>
        <img id="img" src="http://huizuche.com/Content/Images/recommend/car/Jeep_Grand%20Cherokee_L.jpg" onclick="imgCallBack(this.src)" />
    </div>
    
 
      
  <h1>JS Call</h1>
      <input type="button" value="Camera" onclick="callSystemCamera()">
<!--        <input type="button" value="Location" onclick="callSystemCamera()">-->
        <input type="button" value="Call ObjC system alert" onclick="showAlertMsg('js title', 'js message')">
  
      <input type="button" value="Call ObjC func with JSON " onclick="callWithDict({'name': 'testname', 'age': 10, 'height': 170})">
        <input type="button" value="Call System Location." onclick="jsCallObjcAndObjcCallJsWithDict({'name': 'testname1', 'age': 101, 'height': 180})">
    <div>
      <span id="jsParamFuncSpan" style="color: red; font-size: 50px;"></span>
    </div>


<!--<h1>Android#JS Test</h1>-->
<!--    <input type="button" onclick="androidTest()" value="Invoke Android:window.MobilePhoneCall.imgCallBack('url')"/>-->

  
    
</body>

</html>

<script type="text/javascript">
  
  
  var jsFunc = function() {
    alert('Objective-C call js to show alert');
  }

  var jsParamFunc = function(argument) {
  log(argument['latitude']);
  log(argument['longitude']);
}


//app端callback callSystemCamera()
function callSystemCamera() {
  log("call system camera");
  window.MobilePhoneCall.callSystemCamera();
}

//app端callback showAlertMsg()
function showAlertMsg(a,b) {

        log(JSON.stringify(a));
        log(JSON.stringify(b));
        
        window.MobilePhoneCall.showAlertMsg(a,b);
}

//app端callback callWithDict()
function callWithDict(a) {

       log(JSON.stringify(a));
       
       window.MobilePhoneCall.callWithDict(a);

}

//app端callback jsCallObjcAndObjcCallJsWithDict()
function jsCallObjcAndObjcCallJsWithDict(a) {

         log(JSON.stringify(a));
             window.MobilePhoneCall.jsCallObjcAndObjcCallJsWithDict(a);
}



    function imgCallBack(src) {
        log("click img");
        log(JSON.stringify(src));

        if (window.MobilePhoneCall) {
            log("called>>>>>");
            log(window.MobilePhoneCall.imgCallBack('http://huizuche.com/Content/Images/recommend/car/Jeep_Grand%20Cherokee_L.jpg'));
        }
        else {
            alert("window.MobilePhoneCall is nil");
        }
    }

        var uniqueId = 1;
        function log(message, data) {
            var logContainner = document.getElementById('log');
            var el = document.createElement('div');
            el.className = 'logLine';
            el.innerHTML = uniqueId++ + '. ' + message + (data?(':<br/>' + JSON.stringify(data)):"");
            if (logContainner.children && logContainner.children.length) { logContainner.insertBefore(el, logContainner.children[0]); }
            else { logContainner.appendChild(el); }
        }

        window.onerror = function (err) {
            log('window.onerror: ' + err);
        }

        log("Log Detail");
        
</script>


<!--function androidTest() {-->
<!--        log("touch");-->
<!--        if (window.MobilePhoneCall) {-->
<!--           log("js androidTest");-->
<!--           log(window.MobilePhoneCall.imgCallBack('http://huizuche.com/Content/Images/recommend/car/Jeep_Grand%20Cherokee_L.jpg'));-->
 <!--        }-->
<!--        else {-->
<!--            alert("window.MobilePhoneCall is nil");-->
<!--        }-->
<!--}-->



